/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { Operator, Operator$zodSchema } from "./operator.js";

/**
 * Selector type.
 */
export const ChannelSelectorType$zodSchema = z.enum([
  "HTTP",
  "CHANNEL",
  "CONDITION",
]).describe("Selector type.");

export type ChannelSelectorType = z.infer<typeof ChannelSelectorType$zodSchema>;

/**
 * The operation associated with this channel selector.
 */
export const Operation$zodSchema = z.enum([
  "PUBLISH",
  "SUBSCRIBE",
]).describe("The operation associated with this channel selector.");

export type Operation = z.infer<typeof Operation$zodSchema>;

export type ChannelSelector = {
  type: ChannelSelectorType;
  operations?: Array<Operation> | undefined;
  channel?: string | undefined;
  channelOperator?: Operator | undefined;
  entrypoints?: Array<string> | undefined;
};

export const ChannelSelector$zodSchema: z.ZodType<
  ChannelSelector,
  z.ZodTypeDef,
  unknown
> = z.object({
  channel: z.string().default("/"),
  channelOperator: Operator$zodSchema.default("STARTS_WITH"),
  entrypoints: z.array(z.string()).optional(),
  operations: z.array(Operation$zodSchema).optional(),
  type: ChannelSelectorType$zodSchema,
});
